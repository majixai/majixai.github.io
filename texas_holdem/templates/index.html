<!DOCTYPE html>
<html>
<head>
    <title>Texas Hold'em</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body>

<div class="w3-container">
    <h1>Texas Hold'em</h1>

    <div id="players"></div>

    <div id="community-cards"></div>

    <div id="pot"></div>

    <div id="controls">
        <button onclick="bet()">Bet</button>
        <button onclick="fold()">Fold</button>
        <button onclick="nextRound()">Next Round</button>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        updateGameState();
    });

    function updateGameState() {
        $.get('/game_state', function(data) {
            $('#players').empty();
            data.players.forEach(function(player) {
                $('#players').append(`<p>${player.name}: ${player.hand.join(', ')} (${player.chips} chips)</p>`);
            });

            $('#community-cards').html(`Community Cards: ${data.community_cards.join(', ')}`);
            $('#pot').html(`Pot: ${data.pot}`);
        });
    }

    function bet() {
        // For simplicity, we'll just bet 10 for now
        // and assume it's Alice's turn
        $.ajax({
            url: '/bet',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ player: 'Alice', amount: 10 }),
            success: function(response) {
                if (response.success) {
                    updateGameState();
                } else {
                    alert(response.message);
                }
            }
        });
    }

    function fold() {
        // For simplicity, we'll assume it's Alice's turn
        $.ajax({
            url: '/fold',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ player: 'Alice' }),
            success: function(response) {
                if (response.success) {
                    updateGameState();
                } else {
                    alert(response.message);
                }
            }
        });
    }

    function nextRound() {
        $.get('/next_round', function(data) {
            updateGameState();
        });
    }
</script>

</body>
</html>
